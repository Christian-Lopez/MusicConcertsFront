import{a as H,b as U}from"./chunk-CNKM7RGE.js";import{C as L,F as G,G as j,H as z,a as h,b as l,d as F,e as O,f as E,h as p,j as v,k as w,m as x,n as b,t as y,u as S,v as k,w as D,x as A,y as V,z as B}from"./chunk-AIPMVXUC.js";import{C as u,Ha as r,Nb as N,Ob as R,Q as m,W as g,fa as s,ga as c,hc as T,ic as q,ja as C,jc as I,ka as n,la as e,lb as M,ma as d,mb as P,sa as _}from"./chunk-J7G3BXWQ.js";var Z=t=>{let a=t.get("password"),i=t.get("confirmPassword");return!a||!i?null:(i.errors&&i.hasError("matchFailed")&&i.setErrors(null),a.value!==i.value?(i.setErrors({matchFailed:!0}),null):(i.hasError("matchFailed")&&i.setErrors(null),null))};function Q(t,a){t&1&&(n(0,"div",7)(1,"mat-error"),r(2,"This field is required"),e()())}function W(t,a){t&1&&(n(0,"div",7)(1,"mat-error"),r(2,"This field is required"),e()())}function X(t,a){t&1&&(n(0,"mat-error"),r(1,"This field is required"),e())}function Y(t,a){t&1&&(n(0,"mat-error"),r(1,"Enter a valid email"),e())}function ee(t,a){t&1&&(n(0,"mat-error"),r(1,"This field is required"),e())}function te(t,a){t&1&&(n(0,"mat-error"),r(1,"This field is required"),e())}function ne(t,a){t&1&&(n(0,"mat-error"),r(1,"This field is required"),e())}function re(t,a){t&1&&(n(0,"mat-error"),r(1,"This field is required"),e())}function oe(t,a){t&1&&(n(0,"mat-error"),r(1,"Password must be at least 8 characters long"),e())}function ie(t,a){t&1&&(n(0,"div")(1,"mat-error"),r(2,"Password must contain: at least one uppercase letters, lowercase letters, numbers, and a special character "),e()())}function ae(t,a){t&1&&(n(0,"mat-error"),r(1,"Password dont match"),e())}var f=class t{authService=u(I);router=u(M);complexPasswordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z0-9]).{8,}$/;registerForm=new E({name:new p("",[l.required]),lastName:new p("",[l.required]),age:new p("",[l.required]),email:new p("",[l.required,l.email]),password:new p("",[l.required,l.minLength(8),l.pattern(this.complexPasswordPattern)]),confirmPassword:new p("",[l.required,l.minLength(8)]),documentType:new p("",[l.required]),documentNumber:new p("",[l.required])},{validators:[Z]});notifications=u(T);register(){let a={age:this.registerForm.controls.age.value,password:this.registerForm.controls.password.value,confirmPassword:this.registerForm.controls.password.value,documentType:this.registerForm.controls.documentType.value,documentNumber:this.registerForm.controls.documentNumber.value,email:this.registerForm.controls.email.value,firstName:this.registerForm.controls.name.value,lastName:this.registerForm.controls.lastName.value};this.authService.register(a).subscribe({next:i=>{i.success?(this.notifications.open("Registro Exitoso. Inicia sesi\xF3n","Close",{duration:3e3,panelClass:["success-snackbar"]}),this.router.navigateByUrl("/login")):(this.notifications.open(i.errorMessage||"Error","Close",{duration:3e3,panelClass:["error-snackbar"]}),console.log(i.errorMessage))},error:i=>{let o="Error at registir "+i.error.errorMessage;this.notifications.open(o,"Close",{duration:3e3,panelClass:["error-snackbar"]}),console.error("HTTP Error during registration:",i)}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-register-form"]],decls:59,vars:13,consts:[[1,"main-container","box-shadow"],[1,"form-container"],[1,"title"],[3,"formGroup"],["appearance","outline",1,"first-names"],[1,"form-label-color"],["type","text","matInput","","formControlName","name",1,"form-input-color"],[1,"error-label"],["appearance","outline",1,"last-names"],["type","text","matInput","","formControlName","lastName",1,"form-input-color"],["appearance","outline",1,"email"],["type","email","matInput","","formControlName","email",1,"form-input-color"],["appearance","outline",1,"age"],["type","number","matInput","","formControlName","age",1,"form-input-color"],["appearance","outline",1,"document-type"],["formControlName","documentType"],["value","0"],["value","2"],["appearance","outline",1,"document-number"],["type","text","matInput","","formControlName","documentNumber",1,"form-input-color"],["appearance","outline",1,"password"],["type","password","matInput","","formControlName","password",1,"form-input-color"],["appearance","outline",1,"confirm-password"],["type","password","matInput","","formControlName","confirmPassword",1,"form-input-color"],["mat-raised-button","","color","primary",2,"margin-top","50px",3,"click","disabled"],[1,"login"],["routerLink","/login"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),r(3," Register "),e(),n(4,"form",3)(5,"mat-form-field",4)(6,"mat-label",5),r(7,"First Names"),e(),d(8,"input",6),e(),s(9,Q,3,0,"div",7),n(10,"mat-form-field",8)(11,"mat-label",5),r(12,"Last Names"),e(),d(13,"input",9),e(),s(14,W,3,0,"div",7),n(15,"mat-form-field",10)(16,"mat-label",5),r(17,"Email"),e(),d(18,"input",11),e(),s(19,X,2,0,"mat-error"),s(20,Y,2,0,"mat-error"),n(21,"mat-form-field",12)(22,"mat-label",5),r(23,"Age"),e(),d(24,"input",13),e(),s(25,ee,2,0,"mat-error"),n(26,"mat-form-field",14)(27,"mat-label",5),r(28,"Document Type"),e(),n(29,"mat-select",15)(30,"mat-option",16),r(31,"DUI"),e(),n(32,"mat-option",17),r(33,"PASAPORTE"),e()()(),s(34,te,2,0,"mat-error"),n(35,"mat-form-field",18)(36,"mat-label",5),r(37,"Document Number"),e(),d(38,"input",19),e(),s(39,ne,2,0,"mat-error"),n(40,"mat-form-field",20)(41,"mat-label",5),r(42,"Password"),e(),d(43,"input",21),e(),s(44,re,2,0,"mat-error"),s(45,oe,2,0,"mat-error"),s(46,ie,3,0,"div"),n(47,"mat-form-field",22)(48,"mat-label",5),r(49,"Repeat Password"),e(),d(50,"input",23),e(),s(51,ae,2,0,"mat-error"),n(52,"button",24),_("click",function(){return o.register()}),r(53," REGISTER "),e(),n(54,"div",25)(55,"span"),r(56,"If you already have an account "),n(57,"a",26),r(58,"log in"),e()()()()()()),i&2&&(m(4),C("formGroup",o.registerForm),m(5),c(o.registerForm.controls.name.hasError("required")&&o.registerForm.controls.name.touched?9:-1),m(5),c(o.registerForm.controls.lastName.hasError("required")&&o.registerForm.controls.lastName.touched?14:-1),m(5),c(o.registerForm.controls.email.hasError("required")&&o.registerForm.controls.email.touched?19:-1),m(),c(o.registerForm.controls.email.hasError("email")?20:-1),m(5),c(o.registerForm.controls.age.hasError("required")&&o.registerForm.controls.age.touched?25:-1),m(9),c(o.registerForm.controls.documentType.hasError("required")&&o.registerForm.controls.documentType.touched?34:-1),m(5),c(o.registerForm.controls.documentNumber.hasError("required")&&o.registerForm.controls.documentNumber.touched?39:-1),m(5),c(o.registerForm.controls.password.hasError("required")&&o.registerForm.controls.password.touched?44:-1),m(),c(o.registerForm.controls.password.hasError("minlength")&&o.registerForm.controls.password.touched?45:-1),m(),c(o.registerForm.controls.password.hasError("pattern")&&o.registerForm.controls.password.touched?46:-1),m(5),c(o.registerForm.controls.confirmPassword.hasError("matchFailed")&&o.registerForm.controls.confirmPassword.touched?51:-1),m(),C("disabled",o.registerForm.invalid))},dependencies:[y,v,h,w,F,O,G,L,V,B,U,H,z,j,A,S,x,b,R,N,P,q],styles:[".main-container[_ngcontent-%COMP%]{width:350px;background-color:var(--secondary-color);border-radius:8px;height:auto}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;padding-top:36px;text-align:center;margin-bottom:10%}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;font-size:16px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:auto}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]{margin-top:8px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]   .min-length-error[_ngcontent-%COMP%]{line-height:14px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-label[_ngcontent-%COMP%]{color:var(--mat-sys-error);padding-bottom:10px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{padding-bottom:10px;padding-left:20px;padding-right:20px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;width:240px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{margin-top:18px;padding-bottom:10%;font-size:12px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);text-decoration:none}"]})};var $=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-register"]],decls:10,vars:0,consts:[[1,"main-container"],["showLogoOnly",""],[1,"title-container"],[1,"title-sub-container"],[1,"title"],[1,"content"],[1,"form-sub-container"]],template:function(i,o){i&1&&(n(0,"div",0),d(1,"app-header",1),n(2,"div",2)(3,"div",3)(4,"span",4),r(5,"Register , please enter your details"),e()()(),n(6,"div",5)(7,"div",6),d(8,"app-register-form"),e()(),d(9,"app-footer"),e())},dependencies:[k,D,f],styles:[".main-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:auto}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.title-container[_ngcontent-%COMP%]   .title-sub-container[_ngcontent-%COMP%]{display:flex;justify-content:center;max-width:1000px;width:100%;padding:20px}.title-container[_ngcontent-%COMP%]   .title-sub-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.content[_ngcontent-%COMP%]{display:flex;min-height:900px;flex-direction:column;align-items:center;justify-content:center}"]})};export{$ as Register};
