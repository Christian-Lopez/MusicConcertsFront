<div class="card">
  <div class="form-title-container">
    <span>RESTABLECER</span>
  </div>
  <form #resetPasswordForm="ngForm">
    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput [value]="data.email" disabled />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Token</mat-label>
      <input type="text" matInput ngModel name="token" required />
      <mat-error>Token es requerido</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Contraseña</mat-label>
      <input
        type="password"
        matInput
        ngModel
        name="password"
        required
        minlength="8"
        #password="ngModel"
        (ngModelChange)="verifyPasswords(resetPasswordForm)"
      />
      @if(password.hasError("required")){
      <mat-error>Contraseña es requerida</mat-error>
      } @if(password.hasError("minlength")){
      <mat-error>Contraseña debe tener al menos 8 caracteres</mat-error>
      }
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Confirmar Contraseña</mat-label>
      <input
        type="password"
        matInput
        ngModel
        name="confirmPassword"
        required
        minlength="8"
        #confirmPassword="ngModel"
        (ngModelChange)="verifyPasswords(resetPasswordForm)"
      />
      @if(confirmPassword.hasError("required")){
      <mat-error>Contraseña es requerida</mat-error>
      } @if(confirmPassword.hasError("minlength")){
      <mat-error>Contraseña debe tener al menos 8 caracteres</mat-error>
      } @if(confirmPassword.hasError("mismatch")){
      <mat-error>Las contraseñas no coinciden</mat-error>
      }
    </mat-form-field>
    <button
      [disabled]="resetPasswordForm.invalid"
      mat-flat-button
      (click)="resetPassword(resetPasswordForm)"
    >
      RESTABLECER
    </button>
  </form>
</div>