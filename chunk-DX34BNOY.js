import{a as z,d as H}from"./chunk-75X3CLUM.js";import"./chunk-P6OADLSE.js";import{a as L,b as j,c as G,d as B}from"./chunk-RRUVM7UI.js";import{A as S,C as s,D as N,E as R,F as T,G as q,H as I,I as D,N as V,O as A,P as k,a as h,b as x,p as O,q as E,r as w,u as v,v as F,w as m,y,z as b}from"./chunk-ECJQWECS.js";import{Ab as P,Fa as M,J as f,Ta as n,ba as c,ia as u,ta as d,ua as p,va as C,wa as t,xa as e,ya as a,zb as _}from"./chunk-WY3PYLKG.js";var U=o=>{let i=o.get("password"),r=o.get("confirmPassword");return!i||!r?null:(r.errors&&r.hasError("matchFailed")&&r.setErrors(null),i.value!==r.value?(r.setErrors({matchFailed:!0}),null):(r.hasError("matchFailed")&&r.setErrors(null),null))};function W(o,i){o&1&&(t(0,"mat-error"),n(1,"This field is required"),e())}function X(o,i){o&1&&(t(0,"mat-error"),n(1,"Enter a valid email"),e())}function Y(o,i){o&1&&(t(0,"mat-error"),n(1,"This field is required"),e())}function Z(o,i){o&1&&(t(0,"mat-error",21),n(1,"Password must be at least 8 characters long"),e())}function $(o,i){o&1&&(t(0,"mat-error"),n(1,"This field is required"),e())}function ee(o,i){o&1&&(t(0,"mat-error"),n(1,"Password must be at least 8 characters long"),e())}var g=class o{authService=f(H);router=f(_);registerForm=new S({name:new s("",[m.required]),lastName:new s("",[m.required]),age:new s("",[m.required]),email:new s("",[m.required,m.email]),password:new s("",[m.required,m.minLength(8)]),confirmPassword:new s("",[m.required,m.minLength(8)]),documentType:new s("",[m.required]),documentNumber:new s("",[m.required])},{validators:U});notifications=f(z);register(){let i={age:this.registerForm.controls.age.value,password:this.registerForm.controls.password.value,confirmPassword:this.registerForm.controls.password.value,documentType:this.registerForm.controls.documentType.value,documentNumber:this.registerForm.controls.documentNumber.value,email:this.registerForm.controls.email.value,firstName:this.registerForm.controls.name.value,lastName:this.registerForm.controls.lastName.value};this.authService.register(i).subscribe({next:r=>{r.success?(this.notifications.success("Registro Exitoso","Inicia sesi\xF3n"),this.router.navigateByUrl("/login")):(this.notifications.error("Error",r.errorMessage),console.log(r.errorMessage))},error:r=>{let l="Error at registir "+r.error.errorMessage;this.notifications.error("Error de Conexi\xF3n/Servidor",l),console.error("HTTP Error during registration:",r)}})}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=u({type:o,selectors:[["app-register-form"]],decls:62,vars:7,consts:[[1,"main-container","box-shadow"],[1,"form-container"],[1,"title"],[3,"formGroup"],["appearance","outline",1,"first-names"],[1,"form-label-color"],["type","text","matInput","","formControlName","name",1,"form-input-color"],["appearance","outline",1,"last-names"],["type","text","matInput","","formControlName","lastName",1,"form-input-color"],["appearance","outline",1,"email"],["type","email","matInput","","formControlName","email",1,"form-input-color"],["appearance","outline",1,"age"],["type","number","matInput","","formControlName","age",1,"form-input-color"],["appearance","outline",1,"document-type"],["formControlName","documentType"],["value","0"],["value","2"],["appearance","outline",1,"document-number"],["type","text","matInput","","formControlName","documentNumber",1,"form-input-color"],["appearance","outline",1,"password"],["type","password","matInput","","formControlName","password",1,"form-input-color"],[2,"padding","2%"],["hideRequiredMarker","true","appearance","outline",1,"confirm-password"],["type","password","matInput","","formControlName","confirmPassword",1,"form-input-color"],["mat-raised-button","","color","primary",3,"click"],[1,"login"],["routerLink","/login"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"div",1)(2,"span",2),n(3," Register "),e(),t(4,"form",3)(5,"mat-form-field",4)(6,"mat-label",5),n(7,"First Names"),e(),a(8,"input",6),t(9,"mat-error"),n(10,"This field is required"),e()(),t(11,"mat-form-field",7)(12,"mat-label",5),n(13,"Last Names"),e(),a(14,"input",8),t(15,"mat-error"),n(16,"This field is required"),e()(),t(17,"mat-form-field",9)(18,"mat-label",5),n(19,"Email"),e(),a(20,"input",10),d(21,W,2,0,"mat-error"),d(22,X,2,0,"mat-error"),e(),t(23,"mat-form-field",11)(24,"mat-label",5),n(25,"Age"),e(),a(26,"input",12),t(27,"mat-error"),n(28,"This field is required"),e()(),t(29,"mat-form-field",13)(30,"mat-label",5),n(31,"Document Type"),e(),t(32,"mat-select",14)(33,"mat-option",15),n(34,"DUI"),e(),t(35,"mat-option",16),n(36,"PASAPORTE"),e()(),t(37,"mat-error"),n(38,"This field is required"),e()(),t(39,"mat-form-field",17)(40,"mat-label",5),n(41,"Document Number"),e(),a(42,"input",18),e(),t(43,"mat-form-field",19)(44,"mat-label",5),n(45,"Password"),e(),a(46,"input",20),d(47,Y,2,0,"mat-error"),d(48,Z,2,0,"mat-error",21),e(),t(49,"mat-form-field",22)(50,"mat-label",5),n(51,"Repeat Password"),e(),a(52,"input",23),d(53,$,2,0,"mat-error"),d(54,ee,2,0,"mat-error"),e(),t(55,"button",24),M("click",function(){return l.register()}),n(56,"REGISTER"),e(),t(57,"div",25)(58,"span"),n(59,"If you already have an account "),t(60,"a",26),n(61,"log in"),e()()()()()()),r&2&&(c(4),C("formGroup",l.registerForm),c(17),p(l.registerForm.controls.email.hasError("required")?21:-1),c(),p(l.registerForm.controls.email.hasError("email")?22:-1),c(25),p(l.registerForm.controls.password.hasError("required")?47:-1),c(),p(l.registerForm.controls.password.hasError("minlength")?48:-1),c(5),p(l.registerForm.controls.password.hasError("required")?53:-1),c(),p(l.registerForm.controls.password.hasError("minlength")?54:-1))},dependencies:[I,N,F,R,y,b,V,v,E,w,B,G,k,A,O,D,T,q,j,L,P],styles:[".main-container[_ngcontent-%COMP%]{width:300px;height:820px;background-color:var(--secondary-color);border-radius:8px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;padding-top:36px;text-align:center}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;font-size:16px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:240px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]{margin-top:8px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]   .min-length-error[_ngcontent-%COMP%]{line-height:14px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;width:240px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{margin-top:18px;font-size:12px}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.main-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);text-decoration:none}"]})};var J=class o{static \u0275fac=function(r){return new(r||o)};static \u0275cmp=u({type:o,selectors:[["app-register"]],decls:10,vars:0,consts:[[1,"main-container"],["showLogoOnly",""],[1,"title-container"],[1,"title-sub-container"],[1,"title"],[1,"form-container"],[1,"form-sub-container"]],template:function(r,l){r&1&&(t(0,"div",0),a(1,"app-header",1),t(2,"div",2)(3,"div",3)(4,"span",4),n(5,"Register , please enter your details"),e()()(),t(6,"div",5)(7,"div",6),a(8,"app-register-form"),e()(),a(9,"app-footer"),e())},dependencies:[h,x,g],styles:[".main-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:100%}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.title-container[_ngcontent-%COMP%]   .title-sub-container[_ngcontent-%COMP%]{display:flex;justify-content:center;max-width:1000px;width:100%;padding:20px}.title-container[_ngcontent-%COMP%]   .title-sub-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.form-container[_ngcontent-%COMP%]{display:flex;min-height:900px;flex-direction:column;align-items:center;justify-content:center}.form-container[_ngcontent-%COMP%]   .form-sub-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"]})};export{J as Register};
