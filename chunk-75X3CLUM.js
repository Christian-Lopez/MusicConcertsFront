import{a as at}from"./chunk-P6OADLSE.js";import{Ca as I,Da as W,F as D,Fa as B,G as U,Ga as p,H as q,I as A,J as O,M as Y,N as V,Qa as k,Ra as G,Sa as K,T as C,Ya as Q,Za as J,_a as E,a as L,aa as T,ba as h,ca as R,e as j,fa as v,gb as H,ia as P,ja as $,ma as _,na as S,nb as z,oa as X,ob as Z,pb as tt,qb as et,rb as it,sb as nt,va as a,vb as st,wa as d,xa as u,xb as ot,ya as y,zb as rt}from"./chunk-WY3PYLKG.js";var w=(function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e})(w||{});function M(e,s){return{type:w.Trigger,name:e,definitions:s,options:{}}}function c(e,s=null){return{type:w.Animate,styles:s,timings:e}}function r(e){return{type:w.Style,styles:e,offset:null}}function l(e,s,t){return{type:w.State,name:e,styles:s,options:t}}function m(e,s,t=null){return{type:w.Transition,expr:e,animation:s,options:t}}var ft=(e,s,t,i,n,o,f,F)=>({alert:e,error:s,warn:t,success:i,info:n,bare:o,"rtl-mode":f,"has-icon":F}),dt=e=>({width:e});function ut(e,s){e&1&&I(0)}function gt(e,s){if(e&1&&(d(0,"div",9),_(1,ut,1,0,"ng-container",10),u()),e&2){let t=p(2);h(),a("ngTemplateOutlet",t.title)("ngTemplateOutletContext",t.item.context)}}function _t(e,s){if(e&1&&y(0,"div",11),e&2){let t=p(2);a("innerHTML",t.title,T)}}function vt(e,s){e&1&&I(0)}function yt(e,s){if(e&1&&(d(0,"div",12),_(1,vt,1,0,"ng-container",10),u()),e&2){let t=p(2);h(),a("ngTemplateOutlet",t.content)("ngTemplateOutletContext",t.item.context)}}function wt(e,s){if(e&1&&y(0,"div",13),e&2){let t=p(2);a("innerHTML",t.content,T)}}function xt(e,s){if(e&1&&y(0,"div",14),e&2){let t=p(2);a("innerHTML",t.safeSvg,T)}}function Ct(e,s){if(e&1&&(d(0,"div"),_(1,gt,2,2,"div",6)(2,_t,1,1,"ng-template",null,0,E)(4,yt,2,2,"div",7)(5,wt,1,1,"ng-template",null,1,E)(7,xt,1,1,"div",8),u()),e&2){let t=k(3),i=k(6),n=p();h(),a("ngIf",n.titleIsTemplate)("ngIfElse",t),h(3),a("ngIf",n.contentIsTemplate)("ngIfElse",i),h(3),a("ngIf",n.item.icon!=="bare")}}function Tt(e,s){e&1&&I(0)}function St(e,s){if(e&1&&(d(0,"div",17),_(1,Tt,1,0,"ng-container",10),u()),e&2){let t=p(2);h(),a("ngTemplateOutlet",t.item.html)("ngTemplateOutletContext",t.item.context)}}function Ot(e,s){if(e&1&&y(0,"div",13),e&2){let t=p(2);a("innerHTML",t.safeInputHtml,T)}}function bt(e,s){if(e&1){let t=W();d(0,"div",18),B("click",function(n){Y(t);let o=p(2);return V(o.onClickIcon(n))}),u()}if(e&2){let t=p(2);G("icon-hover",t.clickIconToClose),a("innerHTML",t.safeSvg,T)}}function Dt(e,s){if(e&1&&(d(0,"div"),_(1,St,2,2,"div",15)(2,Ot,1,1,"ng-template",null,2,E)(4,bt,1,3,"div",16),u()),e&2){let t=k(3),i=p();h(),a("ngIf",i.htmlIsTemplate)("ngIfElse",t),h(3),a("ngIf",i.item.icon)}}function It(e,s){if(e&1&&(d(0,"div",19),y(1,"span",20),u()),e&2){let t=p();h(),a("ngStyle",Q(1,dt,t.progressWidth+"%"))}}function kt(e,s){if(e&1&&y(0,"simple-notification",2),e&2){let t=s.$implicit,i=s.index,n=p();a("item",t)("timeOut",n.timeOut)("clickToClose",n.clickToClose)("clickIconToClose",n.clickIconToClose)("maxLength",n.maxLength)("showProgressBar",n.showProgressBar)("pauseOnHover",n.pauseOnHover)("theClass",n.theClass)("rtl",n.rtl)("animate",n.animate)("position",i)}}var lt={alert:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
        </svg>
    `,error:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        </svg>
    `,info:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
        </svg>
    `,success:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
        </svg>
    `,warn:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="64" viewBox="0 0 64 64" height="64">
          <circle cx="32.086" cy="50.142" r="2.256"/>
          <path d="M30.08 25.012V42.32c0 1.107.897 2.005 2.006 2.005s2.006-.897 2.006-2.005V25.012c0-1.107-.897-2.006-2.006-2.006s-2.006.898-2.006 2.006z"/>
          <path d="M63.766 59.234L33.856 3.082c-.697-1.308-2.844-1.308-3.54 0L.407 59.234c-.331.622-.312 1.372.051 1.975.362.605 1.015.975 1.72.975h59.816c.705 0 1.357-.369 1.721-.975.361-.603.381-1.353.051-1.975zM5.519 58.172L32.086 8.291l26.568 49.881H5.519z"/>
        </svg>
    `},g=(function(e){return e.Success="success",e.Error="error",e.Alert="alert",e.Info="info",e.Warn="warn",e.Bare="bare",e})(g||{}),b=(()=>{class e{globalOptions;constructor(t){this.globalOptions=t}emitter=new j;icons=lt;set(t,i){return t.id=t.override&&t.override.id?t.override.id:Math.random().toString(36).substring(3),t.click=new S,t.clickIcon=new S,t.timeoutEnd=new S,this.emitter.next({command:"set",notification:t,add:i}),t}success(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Success,icon:this.icons.success,override:n,context:o},!0)}error(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Error,icon:this.icons.error,override:n,context:o},!0)}alert(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Alert,icon:this.icons.alert,override:n,context:o},!0)}info(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Info,icon:this.icons.info,override:n,context:o},!0)}warn(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Warn,icon:this.icons.warn,override:n,context:o},!0)}bare(t="",i="",n,o){return this.set({title:t,content:i||"",type:g.Bare,icon:"bare",override:n,context:o},!0)}create(t="",i="",n=g.Success,o,f){return this.set({title:t,content:i,type:n,icon:this.icons[n],override:o,context:f},!0)}html(t,i=g.Success,n,o="bare",f){return this.set({html:t,type:i,icon:this.icons[o],override:n,context:f},!0)}remove(t){t?this.emitter.next({command:"clean",id:t}):this.emitter.next({command:"cleanAll"})}static \u0275fac=function(i){return new(i||e)(A("options"))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Et=(()=>{class e{notificationService;domSanitizer;cd;zone;timeOut;showProgressBar;pauseOnHover;clickToClose;clickIconToClose;maxLength;theClass;rtl;animate;position;item;title;content;titleIsTemplate=!1;contentIsTemplate=!1;htmlIsTemplate=!1;progressWidth=0;safeSvg;safeInputHtml;stopTime=!1;timer;framesPerSecond=40;sleepTime;startTime;endTime;pauseStart;icon;constructor(t,i,n,o){this.notificationService=t,this.domSanitizer=i,this.cd=n,this.zone=o}ngOnInit(){this.item.override&&this.attachOverrides(),this.animate&&(this.item.state=this.animate),this.timeOut!==0&&this.startTimeOut(),this.contentType(this.item.title,"title"),this.contentType(this.item.content,"content"),this.contentType(this.item.html,"html"),this.safeSvg=this.domSanitizer.bypassSecurityTrustHtml(this.icon||this.item.icon),this.safeInputHtml=this.domSanitizer.bypassSecurityTrustHtml(this.item.html)}ngOnDestroy(){clearTimeout(this.timer),this.cd.detach()}startTimeOut(){this.sleepTime=1e3/this.framesPerSecond,this.startTime=new Date().getTime(),this.endTime=this.startTime+this.timeOut,this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.sleepTime))}onEnter(){this.pauseOnHover&&(this.stopTime=!0,this.pauseStart=new Date().getTime())}onLeave(){this.pauseOnHover&&(this.stopTime=!1,this.startTime+=new Date().getTime()-this.pauseStart,this.endTime+=new Date().getTime()-this.pauseStart,this.zone.runOutsideAngular(()=>setTimeout(this.instance,this.sleepTime)))}onClick(t){this.item.click.emit(t),this.clickToClose&&this.remove()}onClickIcon(t){this.item.clickIcon.emit(t),this.clickIconToClose&&this.remove()}attachOverrides(){Object.keys(this.item.override).forEach(t=>{this.hasOwnProperty(t)&&(this[t]=this.item.override[t])})}instance=()=>{let t=new Date().getTime();this.endTime<t?(this.remove(),this.item.timeoutEnd.emit()):this.stopTime||(this.showProgressBar&&(this.progressWidth=Math.min((t-this.startTime+this.sleepTime)*100/this.timeOut,100)),this.timer=setTimeout(this.instance,this.sleepTime)),this.zone.run(()=>{this.cd.destroyed||this.cd.detectChanges()})};remove(){this.animate?(this.item.state=this.animate+"Out",setTimeout(()=>{this.notificationService.set(this.item,!1)},310)):this.notificationService.set(this.item,!1)}contentType(t,i){t instanceof R?this[i]=t:this[i]=this.domSanitizer.bypassSecurityTrustHtml(t),this[i+"IsTemplate"]=t instanceof R}static \u0275fac=function(i){return new(i||e)(v(b),v(ot),v(H),v(X))};static \u0275cmp=P({type:e,selectors:[["simple-notification"]],inputs:{timeOut:"timeOut",showProgressBar:"showProgressBar",pauseOnHover:"pauseOnHover",clickToClose:"clickToClose",clickIconToClose:"clickIconToClose",maxLength:"maxLength",theClass:"theClass",rtl:"rtl",animate:"animate",position:"position",item:"item"},standalone:!1,decls:4,vars:16,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],[1,"simple-notification",3,"click","mouseenter","mouseleave","ngClass"],[4,"ngIf"],["class","sn-progress-loader",4,"ngIf"],["class","sn-title",4,"ngIf","ngIfElse"],["class","sn-content",4,"ngIf","ngIfElse"],["class","icon",3,"innerHTML",4,"ngIf"],[1,"sn-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sn-title",3,"innerHTML"],[1,"sn-content"],[1,"sn-content",3,"innerHTML"],[1,"icon",3,"innerHTML"],["class","sn-html",4,"ngIf","ngIfElse"],["class","icon",3,"icon-hover","innerHTML","click",4,"ngIf"],[1,"sn-html"],[1,"icon",3,"click","innerHTML"],[1,"sn-progress-loader"],[3,"ngStyle"]],template:function(i,n){i&1&&(d(0,"div",3),B("click",function(f){return n.onClick(f)})("mouseenter",function(){return n.onEnter()})("mouseleave",function(){return n.onLeave()}),_(1,Ct,8,5,"div",4)(2,Dt,5,3,"div",4)(3,It,2,3,"div",5),u()),i&2&&(K(n.theClass),a("@enterLeave",n.item.state)("ngClass",J(7,ft,n.item.type==="alert",n.item.type==="error",n.item.type==="warn",n.item.type==="success",n.item.type==="info",n.item.type==="bare",n.rtl,n.item.icon!=="bare")),h(),a("ngIf",!n.item.html),h(),a("ngIf",n.item.html),h(),a("ngIf",n.showProgressBar))},dependencies:[z,tt,it,et],styles:[`.simple-notification{width:100%;padding:10px 20px;box-sizing:border-box;position:relative;float:left;margin-bottom:10px;color:#fff;cursor:pointer;transition:all .5s;min-height:70px}.simple-notification .sn-title,.simple-notification .sn-content,.simple-notification .sn-html{margin:0}.simple-notification .sn-title{line-height:30px;font-size:20px}.simple-notification .sn-content{font-size:16px;line-height:20px}.simple-notification.has-icon .sn-title,.simple-notification.has-icon .sn-content,.simple-notification.has-icon .sn-html{padding:0 50px 0 0}.simple-notification .icon{position:absolute;box-sizing:border-box;top:0;right:0;width:70px;height:70px;padding:10px}.simple-notification .icon.icon-hover:hover{opacity:.5}.simple-notification .icon svg{fill:#fff;width:100%;height:100%}.simple-notification .icon svg g{fill:#fff}.simple-notification.rtl-mode.has-icon .sn-title,.simple-notification.rtl-mode.has-icon .sn-content,.simple-notification.rtl-mode.has-icon .sn-html{padding:0 0 0 50px}.simple-notification.rtl-mode{direction:rtl}.simple-notification.rtl-mode .sn-content{padding:0 0 0 50px}.simple-notification.rtl-mode svg{left:0;right:auto}.simple-notification.error{background:#F44336}.simple-notification.success{background:#8BC34A}.simple-notification.alert{background:#ffdb5b}.simple-notification.info{background:#03A9F4}.simple-notification.warn{background:#ffdb5b}.simple-notification .sn-progress-loader{position:absolute;top:0;left:0;width:100%;height:5px}.simple-notification .sn-progress-loader span{float:left;height:100%}.simple-notification.success .sn-progress-loader span{background:#689F38}.simple-notification.error .sn-progress-loader span{background:#D32F2F}.simple-notification.alert .sn-progress-loader span{background:#edc242}.simple-notification.info .sn-progress-loader span{background:#0288D1}.simple-notification.warn .sn-progress-loader span{background:#edc242}.simple-notification.bare .sn-progress-loader span{background:#ccc}.simple-notification.warn div .sn-title,.simple-notification.warn div .sn-content,.simple-notification.warn div .sn-html{color:#444}
`],encapsulation:2,data:{animation:[M("enterLeave",[l("fade",r({opacity:1})),m("* => fade",[r({opacity:0}),c("400ms ease-in-out")]),l("fadeOut",r({opacity:0})),m("fade => fadeOut",[r({opacity:1}),c("300ms ease-in-out")]),l("fromTop",r({opacity:1,transform:"translateY(0)"})),m("* => fromTop",[r({opacity:0,transform:"translateY(-5%)"}),c("400ms ease-in-out")]),l("fromTopOut",r({opacity:0,transform:"translateY(5%)"})),m("fromTop => fromTopOut",[r({opacity:1,transform:"translateY(0)"}),c("300ms ease-in-out")]),l("fromRight",r({opacity:1,transform:"translateX(0)"})),m("* => fromRight",[r({opacity:0,transform:"translateX(5%)"}),c("400ms ease-in-out")]),l("fromRightOut",r({opacity:0,transform:"translateX(-5%)"})),m("fromRight => fromRightOut",[r({opacity:1,transform:"translateX(0)"}),c("300ms ease-in-out")]),l("fromBottom",r({opacity:1,transform:"translateY(0)"})),m("* => fromBottom",[r({opacity:0,transform:"translateY(5%)"}),c("400ms ease-in-out")]),l("fromBottomOut",r({opacity:0,transform:"translateY(-5%)"})),m("fromBottom => fromBottomOut",[r({opacity:1,transform:"translateY(0)"}),c("300ms ease-in-out")]),l("fromLeft",r({opacity:1,transform:"translateX(0)"})),m("* => fromLeft",[r({opacity:0,transform:"translateX(-5%)"}),c("400ms ease-in-out")]),l("fromLeftOut",r({opacity:0,transform:"translateX(5%)"})),m("fromLeft => fromLeftOut",[r({opacity:1,transform:"translateX(0)"}),c("300ms ease-in-out")]),l("scale",r({opacity:1,transform:"scale(1)"})),m("* => scale",[r({opacity:0,transform:"scale(0)"}),c("400ms ease-in-out")]),l("scaleOut",r({opacity:0,transform:"scale(0)"})),m("scale => scaleOut",[r({opacity:1,transform:"scale(1)"}),c("400ms ease-in-out")]),l("rotate",r({opacity:1,transform:"rotate(0deg)"})),m("* => rotate",[r({opacity:0,transform:"rotate(5deg)"}),c("400ms ease-in-out")]),l("rotateOut",r({opacity:0,transform:"rotate(-5deg)"})),m("rotate => rotateOut",[r({opacity:1,transform:"rotate(0deg)"}),c("400ms ease-in-out")])])]},changeDetection:0})}return e})(),N=(function(e){return e.Fade="fade",e.FromTop="fromTop",e.FromRight="fromRight",e.FromBottom="fromBottom",e.FromLeft="fromLeft",e.Scale="scale",e.Rotate="rotate",e})(N||{}),le=(()=>{class e{service;cd;constructor(t,i){this.service=t,this.cd=i}set options(t){this.usingComponentOptions=!0,this.attachChanges(t)}create=new S;destroy=new S;notifications=[];position=["bottom","right"];lastNotificationCreated;listener;lastOnBottom=!0;maxStack=8;preventLastDuplicates=!1;preventDuplicates=!1;timeOut=0;maxLength=0;clickToClose=!0;clickIconToClose=!1;showProgressBar=!0;pauseOnHover=!0;theClass="";rtl=!1;animate=N.FromRight;usingComponentOptions=!1;ngOnInit(){this.usingComponentOptions||this.attachChanges(this.service.globalOptions),this.listener=this.service.emitter.subscribe(t=>{switch(t.command){case"cleanAll":this.notifications=[];break;case"clean":this.cleanSingle(t.id);break;case"set":t.add?this.add(t.notification):this.defaultBehavior(t);break;default:this.defaultBehavior(t);break}this.cd.destroyed||this.cd.detectChanges()})}ngOnDestroy(){this.listener&&this.listener.unsubscribe(),this.cd.detach()}defaultBehavior(t){this.notifications.splice(this.notifications.indexOf(t.notification),1),this.destroy.emit(this.buildEmit(t.notification,!1))}add(t){t.createdOn=new Date;let i=this.preventLastDuplicates||this.preventDuplicates?this.block(t):!1;this.lastNotificationCreated=t,t.override&&t.override.icons&&t.override.icons[t.type]&&(t.icon=t.override.icons[t.type]),i||(this.lastOnBottom?(this.notifications.length>=this.maxStack&&this.notifications.splice(0,1),this.notifications.push(t)):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,t)),this.create.emit(this.buildEmit(t,!0)))}block(t){let i=t.html?this.checkHtml:this.checkStandard;if(this.preventDuplicates&&this.notifications.length>0){for(let n of this.notifications)if(i(n,t))return!0}if(this.preventLastDuplicates){let n;if(this.preventLastDuplicates==="visible"&&this.notifications.length>0)this.lastOnBottom?n=this.notifications[this.notifications.length-1]:n=this.notifications[0];else if(this.preventLastDuplicates==="all"&&this.lastNotificationCreated)n=this.lastNotificationCreated;else return!1;return i(n,t)}return!1}checkStandard(t,i){return t.type===i.type&&t.title===i.title&&t.content===i.content}checkHtml(t,i){return t.html?t.type===i.type&&t.title===i.title&&t.content===i.content&&t.html===i.html:!1}attachChanges(t){for(let i in t)this.hasOwnProperty(i)?this[i]=t[i]:i==="icons"&&(this.service.icons=t[i])}buildEmit(t,i){let n={createdOn:t.createdOn,type:t.type,icon:t.icon,id:t.id};return t.html?n.html=t.html:(n.title=t.title,n.content=t.content),i||(n.destroyedOn=new Date),n}cleanSingle(t){let i=0,n=!1,o;this.notifications.forEach((f,F)=>{f.id===t&&(i=F,o=f,n=!0)}),n&&(this.notifications.splice(i,1),this.destroy.emit(this.buildEmit(o,!1)))}static \u0275fac=function(i){return new(i||e)(v(b),v(H))};static \u0275cmp=P({type:e,selectors:[["simple-notifications"]],inputs:{options:"options"},outputs:{create:"create",destroy:"destroy"},standalone:!1,decls:2,vars:2,consts:[[1,"simple-notification-wrapper",3,"ngClass"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position",4,"ngFor","ngForOf"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position"]],template:function(i,n){i&1&&(d(0,"div",0),_(1,kt,1,11,"simple-notification",1),u()),i&2&&(a("ngClass",n.position),h(),a("ngForOf",n.notifications))},dependencies:[z,Z,Et],styles:[`.simple-notification-wrapper{position:fixed;width:300px;z-index:1000}.simple-notification-wrapper.left{left:20px}.simple-notification-wrapper.top{top:20px}.simple-notification-wrapper.right{right:20px}.simple-notification-wrapper.bottom{bottom:20px}.simple-notification-wrapper.center{left:50%;transform:translate(-50%)}.simple-notification-wrapper.middle{top:50%;transform:translateY(-50%)}.simple-notification-wrapper.middle.center{transform:translate(-50%,-50%)}@media (max-width: 340px){.simple-notification-wrapper{width:auto;left:20px;right:20px}}
`],encapsulation:2,changeDetection:0})}return e})(),Ft={position:["bottom","right"],timeOut:0,showProgressBar:!0,pauseOnHover:!0,lastOnBottom:!0,clickToClose:!0,clickIconToClose:!1,maxLength:0,maxStack:8,preventDuplicates:!1,preventLastDuplicates:!1,theClass:"",rtl:!1,animate:N.FromRight,icons:lt},ct=new q("options");function Lt(e){return L(L({},Ft),e)}var me=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[b,{provide:ct,useValue:t},{provide:"options",useFactory:Lt,deps:[ct]}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=$({type:e});static \u0275inj=U({imports:[nt]})}return e})();var x=class extends Error{};x.prototype.name="InvalidTokenError";function Rt(e){return decodeURIComponent(atob(e).replace(/(.)/g,(s,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function Pt(e){let s=e.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Rt(s)}catch{return atob(s)}}function mt(e,s){if(typeof e!="string")throw new x("Invalid token specified: must be a string");s||(s={});let t=s.header===!0?0:1,i=e.split(".")[t];if(typeof i!="string")throw new x(`Invalid token specified: missing part #${t+1}`);let n;try{n=Pt(i)}catch(o){throw new x(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(n)}catch(o){throw new x(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var ht=class e{http=O(st);config=O(at);tokenExpiration=C(new Date);role=C("");email=C("");name=C("");isLoggedIn=C(!1);router=O(rt);notifications=O(b);getEmail(){return this.email()}getName(){return this.name()}getRole(){return this.role()}getTokenExpiration(){return this.tokenExpiration()}getIsLoggedIn(){return this.isLoggedIn()}login(s,t){return this.http.post(this.config.getBaseUrl()+"users/login",{username:s,password:t})}register(s){return this.http.post(this.config.getBaseUrl()+"users/register",s)}sendTokenToResetPassword(s){return this.http.post(this.config.getBaseUrl()+"users/RequestTokenToResetPassword",{email:s})}resetPassword(s){return this.http.post(this.config.getBaseUrl()+"users/ResetPassword",s)}decodeToken(){let s=localStorage.getItem("token"),t=localStorage.getItem("tokenExpiration");if(!s||!t)return;this.tokenExpiration.set(new Date(t));let i=mt(s);this.role.set(i["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]),this.email.set(i["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]),this.name.set(i["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]),this.isLoggedIn.set(!0)}logout(s=!1){localStorage.clear(),this.name.set(""),this.email.set(""),this.role.set(""),this.tokenExpiration.set(new Date),this.isLoggedIn.set(!1),s?(this.notifications.warn("Token Expirado. Por favor inicia sesi\xF3n"),this.router.navigateByUrl("/login")):(this.notifications.success("Logout exitoso","Vuelve pronto"),this.router.navigateByUrl("/"))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};export{b as a,le as b,me as c,ht as d};
