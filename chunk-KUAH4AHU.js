import{a as $}from"./chunk-IQJO5IX2.js";import{C as k,F as V,G as Q,H as A,d as F,h as P,l as R,u as G,v as N,w as j,x as T,y as B}from"./chunk-AIPMVXUC.js";import{C as a,Ha as s,Ia as O,K as l,N as b,Pb as L,Q as c,Sa as w,W as H,Y as x,fa as M,ga as E,gb as I,ha as h,ia as v,ja as m,ka as r,la as i,ma as C,mb as D,o as _,sa as d,ua as S,y}from"./chunk-J7G3BXWQ.js";var f=class t{config=a(L);http=a(I);getHome(){return this.http.get(this.config.getBaseUrl()+"home").pipe(_(e=>{throw console.error("Error occurred while fetching home data:",e),e}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var g=class t{elementRef=a(b);onEnter(){this.elementRef.nativeElement.style.transform="scale(1.05)",this.elementRef.nativeElement.style.boxShadow="var(--primary-color) 0 0 10px",this.elementRef.nativeElement.style.transition="transform 300ms"}onLeave(){this.elementRef.nativeElement.style.transform="scale(1)",this.elementRef.nativeElement.style.boxShadow="none"}static \u0275fac=function(n){return new(n||t)};static \u0275dir=x({type:t,selectors:[["","appHighlightable",""]],hostBindings:function(n,o){n&1&&d("mouseenter",function(){return o.onEnter()})("mouseleave",function(){return o.onLeave()})}})};var U=(t,e)=>e.id;function J(t,e){if(t&1&&(r(0,"mat-option",5),s(1),i()),t&2){let n=e.$implicit;m("value",n.id),c(),O(n.name)}}function K(t,e){if(t&1&&C(0,"app-concert-card",9),t&2){let n=e.$implicit;m("data",n)("routerLink","/event-detail/"+n.id)}}function W(t,e){t&1&&(r(0,"h2"),s(1,"No encontramos conciertos \u{1F972}"),i())}function X(t,e){if(t&1&&h(0,K,1,2,"app-concert-card",9,U,!1,W,2,0,"h2"),t&2){let n=S();v(n.concerts())}}var z=class t{homeService=a(f);sourceConcerts=l([]);genres=l([]);searchQuery=l("");selectedGenreId=l(0);concerts=w(()=>{let e=this.searchQuery().toLowerCase(),n=this.selectedGenreId();return this.sourceConcerts().filter(o=>{let p=n===0||o.genreId===n,u=!e||o.description.toLowerCase().includes(e)||o.title.toLowerCase().includes(e);return p&&u})});currentGenre=new P(0);ngOnInit(){console.log("Home component initialized"),this.homeService.getHome().subscribe(e=>{this.sourceConcerts.set(e.concerts),this.genres.set(e.genres),console.log("Initial concerts loaded:",e.concerts)}),this.currentGenre.valueChanges.subscribe(e=>{this.selectedGenreId.set(e||0)})}onSearchBarValueChange(e){this.searchQuery.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=H({type:t,selectors:[["app-home"]],decls:17,vars:3,consts:[[1,"page-container"],[3,"searchValueChange"],[1,"filter"],[1,"f"],[3,"formControl"],[3,"value"],["appHighlightable",""],[1,"content-container"],[1,"event-list"],["appHighlightable","",3,"data","routerLink"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"app-header",1),d("searchValueChange",function(u){return o.onSearchBarValueChange(u)}),i(),r(2,"div",2)(3,"mat-form-field")(4,"mat-label",3),s(5,"Musical genre"),i(),r(6,"mat-select",4)(7,"mat-option",5),s(8,"Todos"),i(),h(9,J,2,2,"mat-option",5,U),i()(),r(11,"span",6),s(12,"Selecciona tu genero musical favorito"),i()(),r(13,"div",7)(14,"div",8),M(15,X,3,1),i()(),C(16,"app-footer"),i()),n&2&&(c(6),m("formControl",o.currentGenre),c(),m("value",0),c(2),v(o.genres()),c(6),E(o.sourceConcerts().length>0?15:-1))},dependencies:[N,j,A,k,B,Q,T,$,V,G,F,R,g,D],styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.page-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{width:940px;display:flex;margin-top:30px;align-items:center;gap:30px;flex-direction:row;justify-content:center}.page-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.page-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .event-list[_ngcontent-%COMP%]{width:1000px;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px;margin-bottom:40px}.page-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .event-list[_ngcontent-%COMP%]   app-event-card[_ngcontent-%COMP%]{cursor:pointer;border-radius:8px}"]})};export{z as Home};
